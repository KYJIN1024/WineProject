<!DOCTYPE html>
<html lang="ko" xmlns:th="http://thymeleaf.org">

<head>
	    <meta charset="utf-8">
	    <title>Kowasa-한국와인 정보 커뮤니티 사이트</title>
	    <meta content="width=device-width, initial-scale=1.0" name="viewport">
	    <meta content="" name="keywords">
	    <meta content="" name="description">
	
 <!-- Favicon -->
	    <link href="img/favicon.ico" rel="icon">
	
<!-- Google Web Fonts -->
	    <link rel="preconnect" href="https://fonts.googleapis.com">
	    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@600;700&family=Ubuntu:wght@400;500&display=swap" rel="stylesheet"> 
	
<!-- Icon Font Stylesheet -->
	    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
	    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">
	
<!-- Libraries Stylesheet -->
	    <link href="/lib/animate/animate.min.css" rel="stylesheet">
	    <link href="/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
	    <link href="/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />
	
<!-- Customized Bootstrap Stylesheet -->
	    <link href="/css/bootstrap.min.css" rel="stylesheet">
	    
 <!-- Template Stylesheet -->

	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/5.3.45/css/materialdesignicons.css" integrity="sha256-NAxhqDvtY0l4xn+YVa6WjAcmd94NNfttjNsDmNatFVc=" crossorigin="anonymous" />
		<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
		
<!-- Template Stylesheet -->
	    <link href="/css/style.css" rel="stylesheet">		
		
</head>

<body>

<!-- Navbar Start -->
	    <nav class="navbar navbar-expand-lg bg-white navbar-light shadow sticky-top p-0">
	        <a href="/" class="navbar-brand d-flex align-items-center px-4 px-lg-5">
	            <h2 class="m-0 text-primary" style="font-family: 'Nanum Gothic', sans-serif;">
						<img src="/img/winelogo.jpg" alt="Image" width="50" height="50">
			  			KOWASA &nbsp;&nbsp; <h5>한국와인 정보 커뮤니티</h5>
				</h2>
	        </a>
	        <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
	            <span class="navbar-toggler-icon"></span>
	        </button>
	        <div class="collapse navbar-collapse" id="navbarCollapse">
	            <div class="navbar-nav ms-auto p-4 p-lg-0">
	                <a href="/" class="nav-item nav-link active">Home</a>
	                <div class="nav-item dropdown">
	                    <a href="/search" class="nav-item nav-link active">와인검색</a>
					 </div>
	                <div class="nav-item dropdown">
	                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">커뮤니티</a>
	                    <div class="dropdown-menu fade-up m-0">
	                        <a href="/community/freeboard/list" class="dropdown-item">자유게시판</a>
	                        <a href="/community/eventboard/list" class="dropdown-item">행사정보</a>
	                    </div>
	                </div>
	                <div class="nav-item dropdown">
	                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">와인파트너스</a>
	                    <div class="dropdown-menu fade-up m-0">
	                        <a href="/partners/producer/list" class="dropdown-item">생산자</a>
	                        <a href="/partners/shop/list" class="dropdown-item">샵/레스토랑 정보</a>
	                        <a href="/partners/job/list" class="dropdown-item">구인구직</a>
	                    </div>
	                </div>
	            </div>
	           		<a href="/login" class="btn btn-primary py-4 px-lg-5 d-none d-lg-block" th:if="${#authorization.expression('isAnonymous()')}">
					  		  Login<i class="fa fa-arrow-right ms-3"></i>
					</a>
					<div class="btn btn-primary py-4 px-lg-5 d-none d-lg-block" th:if="${#authorization.expression('isAuthenticated()')}">
					    <p style="margin-top: 10px;"><span th:text="${#authentication.name}"></span>님, 환영합니다.</p>
					    <button style="padding: 2px 5px;" onclick="location.href='/logout'">로그아웃</button>
					    <button style="padding: 2px 5px;" onclick="location.href='/mypage'">마이페이지</button>
					</div>
	     	   </div>
	    </nav>
	    <!-- Navbar End -->
	     <!-- Back to Top -->
	    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top" style="position: fixed; right: 20px; bottom: 20px;"><i class="bi bi-arrow-up"></i></a>

			
		<div class="container"><br/><br/>
			    <div class="row"><br/><br/>
 			<!-- Main Contents -->
 			 <h4>샵 / 레스토랑</h4><br/>
			        <div class="col-xl-8">
			            <div class="card border shadow-none">
			                <div class="card-body">
			
			                  <div class="d-flex align-items-start border-bottom pb-3" th:each="shop : ${shops}">
							    <div class="me-4">
									  <a th:href="@{/partners/shop/view/{id}(id=${shop.shopboardid})}">
							            <img class="avatar-lg rounded" width="120" height="80"
							                 th:src="${shop.getFirstImageUrl() != null ? shop.getFirstImageUrl() : '/img/about.jpg'}" 
							                 alt="Event Image" />
							        </a>
							    </div>
			                        <div class="flex-grow-1 align-self-center overflow-hidden">
			                            <div>
			                                <h5 class="text-truncate font-size-18">
			                                <a th:href="@{/partners/shop/view/{id}(id=${shop.shopboardid})}" class="text-dark">
			                                		<h5 class="fw-bolder" th:text="${shop.shopboardtitle}"></h5>
			                                </a></h5>
			                                <p class="mb-0 mt-1"th:utext="${shop.getPlainTextContent()}"></p>
			                            </div>
			                        </div>
			                        <div class="flex-shrink-0 ms-2">
			                            <ul class="list-inline mb-0 font-size-16">
			                                <li class="list-inline-item">
			                                    <a href="#" class="text-muted px-1">
			                                        <i class="mdi mdi-trash-can-outline"></i>
			                                    </a>
			                                </li>
			                           <li class="list-inline-item">
										    <a href="javascript:void(0);" class="text-muted px-1" th:onclick="'likePost(' + ${shop.shopboardid} + ')'">
										        <i class="mdi mdi-heart-outline"></i>
										    </a>
										    <!-- 좋아요 카운트 표시 -->
										    <span th:id="'likes-count-' + ${shop.shopboardid}" th:text="${shop.shopboardlikes}"></span>
										</li>
				                            </ul>
			                        </div>
			                    </div>
			            </div>
			            <!-- end card -->
			             <div class="paging_block">
  
							  <ul class="pagination">
							
							    <!-- Previous Page Link -->
							    <li class="page-item" th:if="${page.hasPrevious()}">
							      <a class="page-link" th:href="@{/partners/shop/list(page=${page.number - 1})}" aria-label="Previous">
							        <span aria-hidden="true">&laquo;</span>
							      </a>
							    </li>
							
							    <!-- Page Number Links -->
							    <li class="page-item" th:each="pageNum : ${#numbers.sequence(1, page.totalPages)}" th:class="${pageNum - 1 == page.number ? 'active' : ''}">
							      <a class="page-link" th:href="@{/partners/shop/list(page=${pageNum - 1})}" th:text="${pageNum}"></a>
							    </li>
							            
							    <!-- Next Page Link -->
							    <li class="page-item" th:if="${page.hasNext()}">
							      <a class="page-link" th:href="@{/partners/shop/list(page=${page.number + 1})}">
							        <span aria-hidden="true">&raquo;</span>
							      </a>
							    </li>
							
							  </ul>
							  
							</div>
			            <div class="row my-4">
			                <div class="col-sm-6">
			                    <a href="/" class="btn btn-link text-muted">
			                        <i class="mdi mdi-arrow-left me-1"></i> 홈화면으로 돌아가기 </a>
			                </div> <!-- end col -->
			                <div class="col-sm-6">
			                    <div class="text-sm-end mt-2 mt-sm-0">
								    <button class="btn btn-success write-button">
								        <i class="mdi mdi-wine-bottle me-1"></i> 글작성
								    </button>
								</div>
			                </div> <!-- end col -->
			            </div> <!-- end row-->
			        </div>
			    </div>
			  <!-- Side Contents -->
					<div class="col-xl-4">
					    <div class="mt-5 mt-lg-0">
					        <div class="card border shadow-none">
					            <div class="card-header bg-transparent border-bottom py-3 px-4">
					                <h5 class="font-size-16 mb-0">이달의 추천와인 <span class="float-end"></span></h5>
					            </div>
					            <div class="card-body p-4 pt-2">
					                <div class="table-responsive">
					                    <table class="table mb-0">
					                        <tbody>
					                            <tr th:each="search : ${searches}">
					                                <td>
					                                   <div class="image-wrapper">
														    <img th:src="${search.imageUrl}" alt="Wine Image">
														</div>
					                                </td>
					                                <td th:text="${search.wineName}"></td>
					                            </tr>
					                        </tbody>
					                    </table>
					                </div>
					            </div>
					        </div>
					    </div>
					</div>
			    <!-- end row -->
			</div>
			</div>
    

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/lib/wow/wow.min.js"></script>
    <script src="/lib/easing/easing.min.js"></script>
    <script src="/lib/waypoints/waypoints.min.js"></script>
    <script src="/lib/counterup/counterup.min.js"></script>
    <script src="/lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="/lib/tempusdominus/js/moment.min.js"></script>
    <script src="/lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="/lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

	<script src="/js/shop.js"></script>


</body>
</html>
